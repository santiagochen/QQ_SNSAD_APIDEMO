package com.santiago.qqsns  {	import flash.display.MovieClip;	import fl.controls.Label;	import flash.display.Loader;	import flash.net.URLRequest;	import flash.text.TextField;	import fl.controls.List;	import fl.data.DataProvider;	import fl.controls.TileList;	import fl.controls.TextArea;		public class ShowResult extends MovieClip{		//QQ信息类		private var _nicklabel:Label = new Label();		private var _genderlabel:Label = new Label();		private var _headimg:Loader = new Loader;				private var _maillabel:Label = new Label();		private var _qqlabel:Label = new Label();				private var _friendlist:List = new List();		private var _fListDp:DataProvider = new DataProvider;				private var _friendGrplist:List = new List();		private var _fGrpListDp:DataProvider = new DataProvider;		//活动信息类		private var _particount:Label = new Label;				private var _partifriendcount:Label = new Label;				private var _partifriendlist:List = new List();		private var _partifListDp:DataProvider = new DataProvider;				private var _particlosefriendcount:Label = new Label;				private var _cfriendlist:List = new List();		private var _cfListDp:DataProvider = new DataProvider;				private var _winnerfcount:Label = new Label;				private var _wfriendlist:List = new List();		private var _wfListDp:DataProvider = new DataProvider;				private var _winnercount:Label = new Label;		//微博信息类		private var _wnicklabel:Label = new Label();		private var _wgenderlabel:Label = new Label();		private var _wheadimg:Loader = new Loader;				private var _wflTileList:TileList = new TileList;		private var _wflDp:DataProvider = new DataProvider;				//微博互动类		private var _wlistenOther:Label =  new Label;				//其他信息类		private var _weatherTa:TextArea = new TextArea;				public function ShowResult() {			this.addEventListener(ActionEvent.START_IMPAPI, onImpAPI);		}				private function onImpAPI(event:ActionEvent):void{			emptyChild();			switch(event.data[0]){				//QQ信息类				case "im/get_baseinfo":				_nicklabel.text = "昵称： "+event.data[1].data.nick;				_genderlabel.text ="性别： "+((event.data[1].data.gender==1)?"男":"女");				_headimg.load(new URLRequest(event.data[1].data.head));				_genderlabel.x = _nicklabel.width;				_headimg.x = _genderlabel.width+_genderlabel.x;				this.addChild(_nicklabel);				this.addChild(_genderlabel);				this.addChild(_headimg);				break;				case "im/get_mailaddress":				_maillabel.text = "邮箱： "+event.data[1].data.mail; _maillabel.width = 200;				_qqlabel.text = "QQ号码: "+event.data[1].data.qq; _qqlabel.x = _maillabel.width+4;				this.addChild(_maillabel);				this.addChild(_qqlabel);				break;				case "im/get_avatarlist":				var arr:Array = ParamModel._params.qqlist.split(",")				for(var arrn:int=0; arrn<arr.length; arrn++){					var loader:Loader = new Loader;					loader.load(new URLRequest(event.data[1].data[arr[arrn]]));					loader.x = (arrn==0)?40*arrn:40*arrn+4;					this.addChild(loader);					}				break;				case "im/get_friendlist":				_fListDp.removeAll();				var flarr:Array = event.data[1].data.list;				for(var flarrn:int = 0; flarrn<flarr.length; flarrn++){					var str:String = "昵称: "+event.data[1].data.list[flarrn].nick+" 性别: "+((event.data[1].data.list[flarrn].gender==1)?"男":"女"+" QQ: "+event.data[1].data.list[flarrn].qq);					_fListDp.addItem({label:str,data:event.data[1].data.list[flarrn]})					} 				_friendlist.dataProvider = _fListDp;				this.addChild(_friendlist);				_friendlist.width = 530;				_friendlist.height = 160;				break;				case "im/get_friendgroup":				_fGrpListDp.removeAll();				var grpArr:Array = new Array;				for( var it:* in event.data[1].data){					grpArr.push(it);					}				for(var grpnum:int=0; grpnum<grpArr.length; grpnum++){					_fGrpListDp.addItem({label:grpArr[grpnum],data:grpArr[grpnum]});					for(var fglarrn:int = 0; fglarrn<event.data[1].data[grpArr[grpnum]].length; fglarrn++){						var strfGrp:String = "  昵称: "+event.data[1].data[grpArr[grpnum]][fglarrn].nick+" QQ: "+event.data[1].data[grpArr[grpnum]][fglarrn].qq;						_fGrpListDp.addItem({label:strfGrp,data:event.data[1].data[grpArr[grpnum]][fglarrn]})						}					}				_friendGrplist.dataProvider = _fGrpListDp;				this.addChild(_friendGrplist);				_friendGrplist.width = 530;				_friendGrplist.height = 160;				break;				//活动信息类				case "campaign/get_participatedcount":				this.addChild(_particount);				_particount.width = 300;				_particount.text = "获取活动参与人数: "+event.data[1].data.count;				break;				case "campaign/get_participatedfriendscount":				this.addChild(_partifriendcount);				_partifriendcount.width = 300;				_partifriendcount.text = "获取参与活动好友数量: "+event.data[1].data.count;				break;				case "campaign/get_participatedfriends":				_partifListDp.removeAll();				var partiflarr:Array = event.data[1].data.list;				for(var partiflarrn:int = 0; partiflarrn<flarr.length; partiflarrn++){					var partistr:String = "昵称: "+event.data[1].data.list[partiflarrn].nick+" QQ: "+event.data[1].data.list[partiflarrn].uni+" 关系链类型: "+((event.data[1].data.list[partiflarrn].snstype==2)?"IM":"微博");					_partifListDp.addItem({label:partistr,data:event.data[1].data.list[partiflarrn]})					}				this.addChild(_partifriendlist);				_partifriendlist.dataProvider = _partifListDp;				_partifriendlist.width =530;				_partifriendlist.height = 160;				break;				case "campaign/get_closefriendscount":				this.addChild(_particlosefriendcount);				_particlosefriendcount.width =300;				_particlosefriendcount.text = "获取参与活动亲密好友数量: "+event.data[1].data.count;				break;				case "campaign/get_closefriends":				_cfListDp.removeAll();				var cflarr:Array = event.data[1].data.list;				for(var cflarrn:int = 0; cflarrn<flarr.length; cflarrn++){					var cstr:String = "昵称: "+event.data[1].data.list[cflarrn].nick+" QQ: "+event.data[1].data.list[cflarrn].uni+" 关系链类型: "+((event.data[1].data.list[cflarrn].snstype==2)?"IM":"微博");					_cfListDp.addItem({label:cstr,data:event.data[1].data.list[cflarrn]})					}				_cfriendlist.dataProvider = _cfListDp;				this.addChild(_cfriendlist)				_cfriendlist.width =530;				_cfriendlist.height = 160;				break;				case "campaign/get_awardfriendscount":				this.addChild(_winnerfcount);				_winnerfcount.width = 300;				_winnerfcount.text = "获取中奖好友数量: "+event.data[1].data.count;				break;				case "campaign/get_awardfriends":				_wfListDp.removeAll();				var wflarr:Array = event.data[1].data.list;				for(var wflarrn:int = 0; wflarrn<flarr.length; wflarrn++){					var wstr:String = "昵称: "+event.data[1].data.list[wflarrn].nick+" QQ: "+event.data[1].data.list[wflarrn].uni+" 关系链类型: "+((event.data[1].data.list[wflarrn].snstype==2)?"IM":"微博");					_wfListDp.addItem({label:wstr,data:event.data[1].data.list[wflarrn]})					}				_wfriendlist.dataProvider = _wfListDp;				this.addChild(_wfriendlist)				_cfriendlist.width =530;				_cfriendlist.height = 160;				break;				case "campaign/get_winnercount":				this.addChild(_winnercount);				_winnercount.width = 300;				_winnercount.text = "获取中奖用户数量: "+event.data[1].data.count;				break;				//微博信息类				case "weibo_read/user/info/baseinfo":				_wnicklabel.text = "昵称： "+event.data[1].data['data'].nick;				if(event.data[1].data['data'].sex==1){_wgenderlabel.text ="性别： 男";}				else if(event.data[1].data['data'].sex==1)_wgenderlabel.text ="性别： 女";				else{_wgenderlabel.text ="性别： 未填写"}				_wheadimg.load(new URLRequest(event.data[1].data['data'].head+"/100"));				_wgenderlabel.x = _wnicklabel.width;				_wheadimg.x = _wgenderlabel.width+_wgenderlabel.x;				this.addChild(_wnicklabel);				this.addChild(_wgenderlabel);				this.addChild(_wheadimg);				break;				case "weibo_read/friends/mutual_list":				_wflDp.removeAll();				var wflinfoarr:Array = event.data[1]['data']['data']['info'];				for(var wflnum:int=0; wflnum<wflinfoarr.length;wflnum++){					var wflstr:String = "昵称: "+event.data[1]['data']['data']['info'][wflnum].nick;					_wflDp.addItem({label:wflstr, source:event.data[1]['data']['data']['info'][wflnum].headurl+"/100"})					}				_wflTileList.dataProvider = _wflDp;				this.addChild(_wflTileList);				_wflTileList.height =160;				_wflTileList.width = 530;								_wflTileList.columnCount = 5;				_wflTileList.columnWidth =100;				_wflTileList.rowHeight = 50;				_wflTileList.rowCount = 3;				break;								case "weibo_read/friends/fanslist_s":				break;								case "weibo_read/friends/idollist_s":				break;								case "weibo_write/friends/add":				_wlistenOther.text = "收听微博用户"+ParamModel._params.name+" :"+((event.data[1].data.ret==0)?"成功":"失败");				this.addChild(_wlistenOther);				_wlistenOther.width = 300;				break;								case "profile/save_personalinfo":				break;								case "other/get_weatheradinfo":				this.addChild(_weatherTa);				_weatherTa.width =530;				_weatherTa.height = 160;				for(var wea in event.data[1]["data"]){					_weatherTa.appendText(wea+": "+event.data[1]["data"][wea]+"\n");					}				break;				}			}				public function emptyChild(){			var num:Number = this.numChildren;			for(var m:int=0; m<num;m++){				this.removeChildAt(0);				}			}				}	}